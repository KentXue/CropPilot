-- 使用前请确保已执行 schema.sql 创建表结构

-- 确保客户端与文件均使用 utf8mb4 编码
SET NAMES utf8mb4;

USE `crop_pilot_db`;

-- =========================
-- 基础演示数据（用户 & 地块）
-- =========================

-- 可选：清空基础表数据（谨慎使用）
-- TRUNCATE TABLE decision_records;
-- TRUNCATE TABLE sensor_data;
-- TRUNCATE TABLE fields;
-- TRUNCATE TABLE users;

-- 插入示例用户（演示环境可用，实际项目请改为真正的密码哈希）
INSERT INTO users (username, password_hash, role, phone) VALUES
('admin', 'admin123', 'admin', '13800000000'),
('farmer_zhang', 'farmer123', 'farmer', '13900000000');

-- 插入示例地块（张三农户拥有两块地）
INSERT INTO fields (user_id, name, location, area, crop_type, soil_type) VALUES
((SELECT id FROM users WHERE username = 'farmer_zhang'), '张三水稻田1号', '湖北省某县A区', 12.50, '水稻', '壤土'),
((SELECT id FROM users WHERE username = 'farmer_zhang'), '张三玉米田1号', '湖北省某县B区', 8.30, '玉米', '沙壤土');

-- =========================
-- 插入知识规则数据
-- =========================
INSERT INTO knowledge_rules (crop_type, growth_stage, rule_type, action, priority) VALUES
-- 水稻规则
('水稻', '分蘖期', '施肥建议', '每亩追施尿素5-8公斤，促进分蘖。', 10),
('水稻', '分蘖期', '灌溉建议', '保持浅水层3-5cm，促进分蘖。', 10),
('水稻', '拔节期', '施肥建议', '注意控制氮肥，防止徒长，可适当增施磷钾肥。', 10),
('水稻', '拔节期', '灌溉建议', '保持适度水层，避免过深或过浅。', 9),
('水稻', '抽穗期', '施肥建议', '叶面喷施磷酸二氢钾，保花增粒。', 10),
('水稻', '抽穗期', '灌溉建议', '保持充足水分，避免干旱。', 9),
('水稻', '抽穗扬花期', '施肥建议', '适量补充微量元素，提高结实率。', 8),
('水稻', '抽穗扬花期', '灌溉建议', '保持水层，严防干旱，确保充足水分。', 10),
('水稻', '灌浆期', '施肥建议', '根据长势适当补施粒肥，但不宜过多。', 7),
('水稻', '灌浆期', '灌溉建议', '保持湿润，干湿交替，促进籽粒饱满。', 9),

-- 玉米规则
('玉米', '苗期', '施肥建议', '基肥为主，可适当追施少量氮肥。', 8),
('玉米', '苗期', '灌溉建议', '保持土壤湿润，避免积水。', 9),
('玉米', '拔节期', '施肥建议', '追施氮肥，促进茎秆生长。', 10),
('玉米', '拔节期', '灌溉建议', '需水量增加，保持充足水分。', 10),
('玉米', '抽雄期', '施肥建议', '增施磷钾肥，促进授粉结实。', 10),
('玉米', '抽雄期', '灌溉建议', '保持充足水分，避免干旱影响授粉。', 10),
('玉米', '灌浆期', '施肥建议', '适量补施粒肥，提高籽粒质量。', 8),
('玉米', '灌浆期', '灌溉建议', '保持土壤湿润，促进籽粒饱满。', 9);

